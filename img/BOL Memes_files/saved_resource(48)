(window.webpackJsonp=window.webpackJsonp||[]).push([[104],{585:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return w});var n=a(18),o=a.n(n),i=a(19),r=a.n(i),s=a(334),l=a.n(s),d=a(335),u=a.n(d),c=a(336),f=a.n(c),h=a(337),m=a(478),g=a(341),p=a(50),v=a.n(p),w=function(e){function t(){return o()(this,t),l()(this,u()(t).apply(this,arguments))}return f()(t,e),r()(t,[{key:"onCreate",value:function(){var a=this;this.on("click",null,function(e,t){var s=a;g.default.open({type:"report-error",args:{},configPath:window.Config.configPath},"report-error").onshow=function(){var r={link:v()(t).parents("[data-url]").attr("data-url")||document.documentURI||window.Config.channel.link,station:window.Config.portal.title,single:s.dom.getAttribute("data-title")||""};v()(this.dom).find(".ep-source").html(r.single),v()(".c-e").text(r.station);var e=s.getSeeStationId(window.universal_variable.aud.tags.split(","),this.dom);0<e.length&&(this.dom.querySelector('input[name="estacao"]').value+=","+e.join(",")),v()("form",this.dom).on("submit",function(e){var t=v()(this).parents(".modal"),a=t.find('input[type!="hidden"], textarea'),n=[],o=!0===navigator.cookieEnabled?"1":"0";if(t.find('[name="cookies"]')[0].value=o,a&&0<a.length&&a.each(function(){var e=[];e.label=v()(this).closest(".form-group").find("label.error"),e.type=v()(this).attr("type")||v()(this).prop("tagName").toLowerCase(),e.value=v()(this).val(),v()(this)[s.getFieldValidations(e)?"removeClass":"addClass"]("error"),e.label[s.getFieldValidations(e)?"addClass":"removeClass"]("hidden"),s.getFieldValidations(e)||n.push(!1)}),t.find(".modal-wrapper").attr("data-success",[0==n.length?"1":"0"]),t.find(".modal-success")[0==n.length?"removeClass":"addClass"]("hidden"),t.find(".alert-danger")[0==n.length?"addClass":"removeClass"]("ghost"),t.find(".modal-form")[0==n.length?"addClass":"removeClass"]("hidden"),0==n.length){var i={estacao:t.find('[name="estacao"]').val(),flash:"-",cookies:t.find('[name="cookies"]').val(),extra_dna:t.find('[name="extra_dna"]').val(),link:r.link,titulo:r.single||r.station,nome:t.find('[name="nome"]').val(),email:t.find('[name="email"]').val(),mensagem:t.find('[name="mensagem"]').val()};s.getPushWebalertToken()&&(i.extra_webalert_token=s.getPushWebalertToken()),v.a.ajax({url:"https://services.uol.com/see/",data:i,dataType:"json",type:"POST",success:function(){},error:function(e){console.log("Erro de envio do report-error - ",e)}}),e.preventDefault()}})},v()("input[type=text], input[type=email], textarea",a.dom).on("focus",function(){return v()(this).parents().find(".alert-danger").addClass("ghost"),v()(this).removeClass("error"),v()(this).parents(".form-group").find("label.error").addClass("hidden"),!1}),window.UOLPD.TagManager.Commons.RemoteStorage().get("DNA",function(e,t){v()('[name="extra_dna"]',this.dom).val(t)})})}},{key:"getFieldValidations",value:function(e){var t=!1,a=!1;switch(e.type){case"email":t=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;break;case"text":a=4;break;case"textarea":a=10;break;default:a=0}return t?t.test(e.value):a?e.value.length>=a:void 0}},{key:"getPushWebalertToken",value:function(){var e=(new m.a).get("uolPushNotification");return e&&e.subscriptionID}},{key:"getSeeStationId",value:function(e,t){var a={};!0===/\.bol\.uol/.test(location.hostname)&&(a=Object.assign(a,{22798:1,12810:2,35976:4,79097:101,13014:102,22373:103,16614:104,79496:109,76513:111,13703:114,78612:1e3,76663:1002,73845:1003,79623:1006,79713:1007,79818:1009}));var n=[],o=t.querySelector("form")?t.querySelector("form").getAttribute("data-disable-hn"):"false";0==(o="true"==o)&&-1!==e.indexOf("79794")&&n.push(1010);var i=e.slice(0,2);for(var r in a)if(!0===a.hasOwnProperty(r)&&-1!==i.indexOf(r)){n.push(a[r]);break}return n}}]),t}(h.a)}}]);